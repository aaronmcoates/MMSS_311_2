num1 <- read_csv("/Users/aaroncoates/Desktop/1.csv")
num3 <- read_csv("/Users/aaroncoates/Desktop/3.csv")
View(num1)
View(num3)
hey <- anti_join(num1, num3, "FIPS Code")
View(hey)
hey <- inner_join(num1, num3, "FIPS Code")
View(hey)
hey2 <- kmeans(select(hey, c(Data.x, Data.y)), 5, iter.max = 15, nstart=50)
hey2 <- kmeans(select(hey, c(Data.x, Data.y)), 5, nstart=50)
hey$Data.x <- as.numeric(hey$Data.x)
hey$Data.y <- as.numeric(hey$Data.y)
setwd(""~/Documents/GitHub/MMSS_311_2"")
library(tidytext)
library(tm)
library(readr)
library(dplyr)
library(stringr)
library(ggplot2)
library(proxy)
library(fields)
library(mixtools)
num1 <- read_csv("/Users/aaroncoates/Desktop/1.csv")
num3 <- read_csv("/Users/aaroncoates/Desktop/3.csv")
hey <- inner_join(num1, num3, "FIPS Code")
hey$Data.x <- removePunctuation(hey$Data.x)
hey$Data.x <- as.numeric(hey$Data.x)
hey$Data.y <- as.numeric(hey$Data.y)
hey2 <- kmeans(select(hey, c(Data.x, Data.y)), 5, nstart=50)
hey2$cluster
hey3 <- read_html("https://en.wikipedia.org/wiki/User:Michael_J/County_table)
hey3 <- read_html("https://en.wikipedia.org/wiki/User:Michael_J/County_table")
hey3 <- read_html("http://en.wikipedia.org/wiki/User:Michael_J/County_table")
setwd(""~/Documents/GitHub/MMSS_311_2"")
library(tidytext)
library(tm)
library(readr)
library(dplyr)
library(stringr)
library(ggplot2)
library(proxy)
library(fields)
library(mixtools)
library(xml2)
library(rvest)
hey3 <- read_html("http://en.wikipedia.org/wiki/User:Michael_J/County_table")
FIPS <- html_nodes(hey3, td:nth-child(3))
LAT <- html_nodes(hey3, td:nth-child(13))
LONG <- html_nodes(hey3, td:nth-child(14))
knitr::opts_chunk$set(echo = TRUE)
no <- read_html('/Users/aaroncoates/Desktop/cries.htm')
nodes <- html_nodes(no, '.mw-category-group+ .mw-category-group a')
View(nodes)
FIPS <- html_nodes(hey3, 'td:nth-child(3)')
LAT <- html_nodes(hey3, 'td:nth-child(13)')
LONG <- html_nodes(hey3, 'td:nth-child(14)')
FIPS2 <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(FIPS2, LAT2, LONG2)
View(final)
FIPS Code <- FIPS2
'FIPS Code' <- FIPS2
final <- cbind('FIPS Code', LAT2, LONG2)
hey10 <- inner_join(final, hey, 'FIPS Code')
final<- as.data.frame(final)
hey10 <- inner_join(final, hey, 'FIPS Code')
View(final)
View(hey)
hey3 <- read_html("http://en.wikipedia.org/wiki/User:Michael_J/County_table")
FIPS <- html_nodes(hey3, 'td:nth-child(3)')
LAT <- html_nodes(hey3, 'td:nth-child(13)')
LONG <- html_nodes(hey3, 'td:nth-child(14)')
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind('FIPS Code', LAT2, LONG2)
final<- as.data.frame(final)
hey10 <- inner_join(final, hey, 'FIPS Code')
View(final)
hey3 <- read_html("http://en.wikipedia.org/wiki/User:Michael_J/County_table")
FIPS <- html_nodes(hey3, 'td:nth-child(3)')
LAT <- html_nodes(hey3, 'td:nth-child(13)')
LONG <- html_nodes(hey3, 'td:nth-child(14)')
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind('FIPS Code', LAT2, LONG2)
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(FIPS Code, LAT2, LONG2)
final <- cbind('FIPS Code', LAT2, LONG2)
View(final)
final <- cbind(FIPS Code, LAT2, LONG2)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
View(final)
final$'FIPS Code' <- final$V1
hey10 <- inner_join(final, hey, 'FIPS Code')
final$'FIPS Code' <- as.numeric(final$'FIPS Code')
hey10 <- inner_join(final, hey, 'FIPS Code')
View(hey10)
View(final)
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
View(final)
final$'FIPS Code' <- as.numeric(final$'FIPS Code')
View(final)
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
hey10 <- inner_join(final, hey, 'FIPS Code')
final$'FIPS Code' <- as.numeric(as.character(final$'FIPS Code'))
View(final)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.character(final$'FIPS Code')
View(final)
hey10 <- inner_join(final, hey, 'FIPS Code')
hey$'FIPS Code' <- as.character(hey$`FIPS Code`)
final$'FIPS Code' <- as.character(final$'FIPS Code')
hey10 <- inner_join(final, hey, 'FIPS Code')
View(hey10)
hey10$LAT2 <- as.numeric(removePunctuation(hey10$LAT2))
hey10$LONG2 <- as.numeric(removePunctuation(hey10$LONG2))
hey10$LAT2 <- as.numeric(removePunctuation(as.character(hey10$LAT2)))
hey10$LONG2 <- as.numeric(removePunctuation(as.character(hey10$LONG2)))
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10$LAT2 <- as.character(hey10$LAT2)
hey10$LAT2 <- as.character(hey10$LAT2) %>%
removePunctuation()
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10$LAT2 <- as.character(hey10$LAT2) %>%
as.numeric()
hey10$LAT2 <- as.character(hey10$LAT2) %>%
hey10$LAT2 <- as.character(hey10$LAT2)
hey10$LAT2 <- as.numeric(gsub("°", "", hey10$LAT2, fixed = TRUE))
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.character(final$'FIPS Code')
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10$LAT2 <- as.numeric(gsub("°", "", hey10$LAT2, fixed = TRUE))
hey10$LAT2 <- as.numeric(gsub("°", "", hey10$LAT2, fixed = TRUE))
hey10$LONG2 <- as.numeric(gsub("°", "", hey10$LONG2, fixed = TRUE))
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.character(final$'FIPS Code')
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10$LAT2 <- as.numeric(gsub("°", "", hey10$LAT2, fixed = TRUE))
hey10$LONG2 <- as.numeric(gsub("°", "", hey10$LONG2, fixed = TRUE))
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.character(final$'FIPS Code')
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$cluster <- hey2$cluster
num1 <- read_csv("/Users/aaroncoates/Desktop/1.csv")
num3 <- read_csv("/Users/aaroncoates/Desktop/3.csv")
hey <- inner_join(num1, num3, "FIPS Code")
hey3 <- read_html("http://en.wikipedia.org/wiki/User:Michael_J/County_table")
FIPS <- html_nodes(hey3, 'td:nth-child(3)')
LAT <- html_nodes(hey3, 'td:nth-child(13)')
LONG <- html_nodes(hey3, 'td:nth-child(14)')
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.character(final$'FIPS Code')
View(final)
View(hey)
final$'FIPS Code' <- as.character(final$'FIPS Code')
num1 <- read_csv("/Users/aaroncoates/Desktop/1.csv")
num3 <- read_csv("/Users/aaroncoates/Desktop/3.csv")
hey <- inner_join(num1, num3, "FIPS Code")
View(hey)
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.numeric(final$'FIPS Code')
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.numeric(as.character(final$'FIPS Code'))
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10 <- hey10[, -c(V1, 'Per Capita Personal Income 2017', Rank.x, Rank.y)]
hey10 <- hey10[, -c('V1', 'Per Capita Personal Income 2017', 'Rank.x', 'Rank.y')]
hey10 <- subset(hey10, select= -c('V1', 'Per Capita Personal Income 2017', 'Rank.x', 'Rank.y'))
hey10 <- subset(hey10, select = -c('V1', 'Per Capita Personal Income 2017', 'Rank.x', 'Rank.y'))
hey10 <- subset(hey10, select = -c(V1, 'Per Capita Personal Income 2017', Rank.x, Rank.y))
hey10 <- subset(hey10, select = -c(V1, get(Per Capita Personal Income 2017), Rank.x, Rank.y))
hey10 <- subset(hey10, select = -c(V1, get('Per Capita Personal Income 2017'), Rank.x, Rank.y))
hey10$Data.x <- removePunctuation(hey10$Data.x)
hey10$Data.x <- as.numeric(hey10$Data.x)
hey10$Data.y <- as.numeric(hey10$Data.y)
hey10$'FIPS Code' <- as.character(hey10$`FIPS Code`)
hey2 <- kmeans(select(hey10, c(Data.x, Data.y)), 5, nstart=50)
hey10$cluster <- hey2$cluster
ggplot(hey10, aes(LAT2, LONG2), color=cluster) + geom_point()
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(gsub("+", "", hey10$LAT2, fixed = TRUE))
hey10$LONG2 <- as.numeric(gsub("-", "", hey10$LONG2, fixed = TRUE))
num1 <- read_csv("/Users/aaroncoates/Desktop/1.csv")
num3 <- read_csv("/Users/aaroncoates/Desktop/3.csv")
hey <- inner_join(num1, num3, "FIPS Code")
hey3 <- read_html("http://en.wikipedia.org/wiki/User:Michael_J/County_table")
FIPS <- html_nodes(hey3, 'td:nth-child(3)')
LAT <- html_nodes(hey3, 'td:nth-child(13)')
LONG <- html_nodes(hey3, 'td:nth-child(14)')
'FIPS Code' <- html_text(FIPS)
LAT2 <- html_text(LAT)
LONG2 <- html_text(LONG)
final <- cbind(get('FIPS Code'), LAT2, LONG2)
final<- as.data.frame(final)
final$'FIPS Code' <- final$V1
final$'FIPS Code' <- as.numeric(as.character(final$'FIPS Code'))
hey10 <- inner_join(final, hey, 'FIPS Code')
hey10 <- subset(hey10, select = -c(V1, get('Per Capita Personal Income 2017'), Rank.x, Rank.y))
hey10$Data.x <- removePunctuation(hey10$Data.x)
hey10$Data.x <- as.numeric(hey10$Data.x)
hey10$Data.y <- as.numeric(hey10$Data.y)
hey10$'FIPS Code' <- as.character(hey10$`FIPS Code`)
hey2 <- kmeans(select(hey10, c(Data.x, Data.y)), 5, nstart=50)
hey10$cluster <- hey2$cluster
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LAT2, LONG2), color=cluster) + geom_point()
ggplot(hey10, aes(LONG2, LAT2), color=cluster) + geom_point()
ggplot(hey10, aes(LONG2, LAT2), color=cluster) + geom_point() + xlim(-160, -50)
ggplot(hey10, aes(LONG2, LAT2, color=cluster)) + geom_point() + xlim(-160, -50)
hey10$cluster <- as.factor(hey2$cluster))
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LONG2, LAT2, color=cluster)) + geom_point() + xlim(-160, -50)
hey10$cluster <- as.factor(hey2$cluster))
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LONG2, LAT2, color=cluster)) + geom_point() + xlim(-160, -50)
table(hey10$cluster)
hey2 <- kmeans(select(hey10, c(Data.x, Data.y)), 15, nstart=50)
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LONG2, LAT2, color=cluster)) + geom_point() + xlim(-160, -50)
table(hey10$cluster)
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-160, -50)
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-125, -70)
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60)
hey2 <- kmeans(select(hey10, c(Data.x, Data.y)), 8, nstart=50)
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60)
table(hey10$cluster)
hey2 <- kmeans(select(hey10, c(Data.x, Data.y)), 2, nstart=50)
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60)
table(hey10$cluster)
install.packages(c("maps", "mapdata"))
install.packages(c("maps", "mapdata"))
library(ggmap)
library(maps)
library(mapdata)
devtools::install_github("dkahle/ggmap")
library(devtools)
install.packages('devtools')
library(devtools)
devtools::install_github("dkahle/ggmap")
library(ggmap)
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60) +
geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3)
usa <- map_data("usa")
ggplot(hey10, aes(LONG2, LAT2, color=cluster), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60) +
geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3)
ggplot(hey10, aes(LONG2, LAT2, color=hey10$cluster), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60) +
geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_point() + xlim(-125, -70) +ylim(20,60) +
geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point() + xlim(-125, -70) +ylim(20,60) +
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point() + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point() + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=cluster) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster) + xlim(-125, -70) +ylim(20,60)
hey2 <- kmeans(select(hey10, Data.x), 5, nstart=50)
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
usa <- map_data("usa")
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster) + xlim(-125, -70) +ylim(20,60)
table(hey10$cluster)
hey2 <- kmeans(select(hey10, Data.x), 4, nstart=50)
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster) + xlim(-125, -70) +ylim(20,60)
table(hey10$cluster)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, size=.1) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2), alpha=.1) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, size=.3) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, size=.3) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, alpha=.1, size=.3) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, size=.3) + xlim(-125, -70) +ylim(20,60)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group))
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, size=.3)
ggplot(hey10, aes(LONG2, LAT2)) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(color=hey10$cluster, size=.3) + xlim(-125, -70) + ylim(20,60)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=hey10$cluster, size=.3)) + xlim(-125, -70) + ylim(20,60)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=hey10$cluster), size=.3) + xlim(-125, -70) + ylim(20,60)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=hcluster), size=.3)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=cluster), size=.3)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=cluster), size=.3) + xlim(-125, -70)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=cluster, group=group), size=.3) + xlim(-125, -70) + ylim(20,60)
ggplot() + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
coord_fixed(1.3) + geom_point(data=hey10, aes(LONG2, LAT2, color=cluster), size=.3) + xlim(-125, -70) + ylim(20,60)
counties <- map_data("county")
View(counties)
hey10$hello <- gsub("[County,*]", "", hey10$`Population 2018`)
hey10$hello <- gsub("[[County,*]]", "", hey10$`Population 2018`)
hey10$hello <- gsub("[^County, ..$]", "", hey10$`Population 2018`)
hey10$hello <- gsub("^County, ..$", "", hey10$`Population 2018`)
hey10$hello <- gsub("County, ..$", "", hey10$`Population 2018`)
hey10$hello <- tolower(gsub("County, ..$", "", hey10$`Population 2018`))
hey10$subregion <- tolower(gsub("County, ..$", "", hey10$`Population 2018`))
omg <- inner_join(hey10, counties, subregion)
omg <- inner_join(subregion, hey10, counties)
omg <- inner_join('subregion', hey10, counties)
hey10$subregion <- as.factor(tolower(gsub("County, ..$", "", hey10$`Population 2018`)))
omg <- inner_join('subregion', hey10, counties)
counties$subregion <- as.factor(counties$subregion)
omg <- inner_join('subregion', hey10, counties)
omg <- inner_join(hey10, counties, 'subregion')
View(omg)
hey10$cluster <- as.factor(hey2$cluster)
hey10$LAT2 <- gsub("°", "", hey10$LAT2, fixed = TRUE)
hey10$LONG2 <- gsub("°", "", hey10$LONG2, fixed = TRUE)
hey10$LAT2 <- as.numeric(hey10$LAT2)
hey10$LONG2 <- as.numeric(gsub("–", "-", hey10$LONG2, fixed = TRUE))
library(maps)
library(mapdata)
library(devtools)
library(ggmap)
usa <- map_data("usa")
counties <- map_data("county")
hey10$subregion <- tolower(gsub("County, ..$", "", hey10$`Population 2018`))
omg <- inner_join(hey10, counties, 'subregion')
usa <- map_data("usa")
counties <- map_data("county")
hey10$subregion <- tolower(gsub("County, ..$", "", hey10$`Population 2018`))
omg <- inner_join(counties, hey10, 'subregion')
View(omg)
omg <- inner_join(counties, hey10, 'subregion')
lol <- inner_join(counties, hey10, 'subregion')
hey10$subregion <- as.factor(tolower(gsub("County, ..$", "", hey10$`Population 2018`)))
counties$subregion <- as.factor(counties$subregion)
lol <- inner_join(counties, hey10, 'subregion')
hey10$subregion <- as.character(tolower(gsub("County, ..$", "", hey10$`Population 2018`)))
counties$subregion <- as.character(counties$subregion)
lol <- inner_join(counties, hey10, 'subregion')
lol <- inner_join(counties, hey10, 'subregion')
hey10$subregion <- as.character(tolower(gsub(" County, ..$", "", hey10$`Population 2018`)))
counties$subregion <- as.character(counties$subregion)
lol <- inner_join(counties, hey10, 'subregion')
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray")
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw() +
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray")
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray")
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray")
ggplot(data = counties, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white")
ggplot(data = counties, mapping = aes(x = long, y = lat, group = counties$group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
ggplot(data = counties, mapping = aes(x = counties$long, y = counties$lat, group = counties$group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = hey10, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
View(lol)
ggplot(data = lol, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = lol, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
ggplot(data = lol, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = lol, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw() + geom_polygon(data = usa, aes(x=long, y = lat, group = group))
ggplot(data = lol, mapping = aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) + geom_polygon(data = usa, aes(x=long, y = lat, group = group)) +
geom_polygon(color = "black", fill = "gray") +
geom_polygon(data = lol, aes(fill = cluster), color = "white") +
geom_polygon(color = "black", fill = NA) +
theme_bw()
setwd(""~/Documents/GitHub/MMSS_311_2"")
setwd(""~Documents/GitHub/MMSS_311_2"")
setwd("~/Documents/GitHub/MMSS_311_2)
setwd("~/Documents/GitHub/MMSS_311_2")
setwd("~Documents/GitHub/MMSS_311_2")
setwd("~Documents/GitHub/MMSS_311_2")
setwd("~Documents/GitHub/MMSS_311_2")
setwd("/Users/aaroncoates/Documents/GitHub/MMSS_311_2")
setwd("/Users/aaroncoates/Documents/GitHub/MMSS_311_2")
